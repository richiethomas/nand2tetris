
(START)
  // initialize start_screen_addr to the base value of the screen's memory map
  @SCREEN
  D=A
  @start_screen_addr
  M=D
  @end_screen_addr
  M=D

  @512
  D=A
  @end_screen_addr
  M=M+D

(LOOP)
  @KBD
  D=M
  @CLEARSCREEN
  D;JEQ
  @FILLSCREEN
  D;JNE
(CLEARSCREEN)
  @start_screen_addr
  D=M
  A=D
  M=0
  A=A+1
  D=A
  @start_screen_addr
  M=D
  @end_screen_addr
  D=D-M
  @END
  D;JMP
  @CLEARSCREEN
  0;JMP
(FILLSCREEN)
  @start_screen_addr
  A=M
  M=-1
  A=A+1
  @i
  M=M+1
  @start_screen_addr
  D=M+1
  @end_screen_addr
  D=D-M
  @END
  D;JMP
  @FILLSCREEN
  0;JMP
(END)
@LOOP
0;JMP
